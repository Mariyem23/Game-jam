<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KAIJU — Décryptage</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=IM+Fell+English&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Metal+Mania&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./decrypt.css" />
  </head>

  <body>
    <!-- Winbar -->
    <div class="winbar">
      <div class="winbar__left">
        <span class="winbar__icon"></span>
        <span class="winbar__title">Kaiju Archives — Console de traduction</span>
      </div>
      <div class="winbar__controls">
        <button class="winbtn winbtn--min" aria-label="Réduire" title="Réduire"><span></span></button>
        <button class="winbtn winbtn--max" aria-label="Agrandir" title="Agrandir"><span></span></button>
        <button class="winbtn winbtn--close" aria-label="Fermer" title="Fermer"><span></span></button>
      </div>
    </div>

    <main class="screen">
      <section class="panel" id="panel">
        <div class="panel__head">
          <div class="badge">Console de traduction</div>
          <div class="kicker">ARCHIVES • FRAGMENT INTERCEPTE</div>
          <h1>DECHIFFREMENT</h1>
          <p class="muted">
            Associez chaque symbole a une lettre. Une lettre se verrouille seulement si elle est correcte.
            Si le temps tombe a zero, l'interface commencera a perdre le controle.
          </p>
        </div>

        <div class="layout">
          <!-- TEXTE -->
          <div class="paper">
            <div class="paper__head">
              <div class="paper__title">
                FRAGMENT 09 • STABILITE :
                <span id="timer">10:00</span>
                <span class="phase" id="phaseTag">STABLE</span>
              </div>

              <div class="corruption">
                <span class="corruption__label">INTRUSION</span>
                <div class="corruption__bar">
                  <div class="corruption__fill" id="corruptFill"></div>
                </div>
              </div>
            </div>

            <div class="textpane">
              <div class="textpane__label">TEXTE CHIFFRE</div>
              <pre class="cipher" id="cipherText"></pre>

              <div class="divider"></div>

              <div class="textpane__label">TRADUCTION</div>
              <pre class="plain" id="plainText"></pre>
            </div>

            <div class="status" id="statusLine"></div>
          </div>

          <!-- TABLE -->
          <aside class="mapping">
            <div class="mapping__box">
              <h2>Table des symboles</h2>
              <p class="mapping__hint">
                Tape une lettre (A–Z). Rouge = faux. Verrouille = correct.
                (Ordre melange volontairement.)
              </p>

              <div class="grid" id="mapGrid"></div>

              <div class="guessbox">
                <label for="guessInput">Mot-cle :</label>
                <input id="guessInput" type="text" placeholder="..." autocomplete="off" />
                <button class="btn" id="guessBtn" type="button">Valider</button>
              </div>

              <p class="small muted">
                Conseil : ne devine pas trop tot. La chose ecoute.
              </p>
            </div>
          </aside>
        </div>
      </section>

      <!-- Overlays -->
      <div class="glitch" id="glitchLayer" aria-hidden="true"></div>
      <div class="popups" id="popups" aria-hidden="true"></div>
    </main>

    <script src="./decrypt.js"></script>
  </body>
</html>
